#include <linux/io_uring.h>
#include <fcntl.h>
#include <unistd.h>
#include <sys/types.h>
#include <sys/socket.h>
#include <sys/un.h>
#include <stdio.h>
#include <string.h>

typedef struct sockaddr_un sockaddr_un;
typedef struct msghdr msghdr;
typedef struct iovec iovec;

int sock_alloc(const char *name){
    int unix_socket = socket(AF_UNIX, SOCK_DGRAM, 0);
    sockaddr_un unix_sock_addr;
    unix_sock_addr.sun_family = AF_UNIX;
    strcpy(unix_sock_addr.sun_path, name);
    bind(unix_socket, (struct sockaddr *)&unix_sock_addr, strlen(unix_sock_addr.sun_path)+sizeof(unix_sock_addr.sun_family));
    return unix_socket;
}

int main(int argc, char *argv[])
{
    int usockA = sock_alloc("/tmp/unix_socketA");
    int usockB = sock_alloc("/tmp/unix_socketB");
}
